/* src: catalog/view/theme/journal3/lib/hoverintent/jquery.hoverIntent.min.js */
/*!
 * hoverIntent v1.10.1 // 2019.10.05 // jQuery v1.7.0+
 * http://briancherne.github.io/jquery-hoverIntent/
 *
 * You may use hoverIntent under the terms of the MIT license. Basically that
 * means you are free to use hoverIntent as long as this header is left intact.
 * Copyright 2007-2019 Brian Cherne
 */
!function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("jquery")):jQuery&&!jQuery.fn.hoverIntent&&factory(jQuery)}(function($){"use strict";function track(ev){cX=ev.pageX,cY=ev.pageY}var cX,cY,_cfg={interval:100,sensitivity:6,timeout:0},INSTANCE_COUNT=0,compare=function(ev,$el,s,cfg){if(Math.sqrt((s.pX-cX)*(s.pX-cX)+(s.pY-cY)*(s.pY-cY))<cfg.sensitivity)return $el.off(s.event,track),delete s.timeoutId,s.isActive=!0,ev.pageX=cX,ev.pageY=cY,delete s.pX,delete s.pY,cfg.over.apply($el[0],[ev]);s.pX=cX,s.pY=cY,s.timeoutId=setTimeout(function(){compare(ev,$el,s,cfg)},cfg.interval)};$.fn.hoverIntent=function(handlerIn,handlerOut,selector){var instanceId=INSTANCE_COUNT++,cfg=$.extend({},_cfg);$.isPlainObject(handlerIn)?(cfg=$.extend(cfg,handlerIn),$.isFunction(cfg.out)||(cfg.out=cfg.over)):cfg=$.isFunction(handlerOut)?$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector}):$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut});function handleHover(e){var ev=$.extend({},e),$el=$(this),hoverIntentData=$el.data("hoverIntent");hoverIntentData||$el.data("hoverIntent",hoverIntentData={});var state=hoverIntentData[instanceId];state||(hoverIntentData[instanceId]=state={id:instanceId}),state.timeoutId&&(state.timeoutId=clearTimeout(state.timeoutId));var mousemove=state.event="mousemove.hoverIntent.hoverIntent"+instanceId;if("mouseenter"===e.type){if(state.isActive)return;state.pX=ev.pageX,state.pY=ev.pageY,$el.off(mousemove,track).on(mousemove,track),state.timeoutId=setTimeout(function(){compare(ev,$el,state,cfg)},cfg.interval)}else{if(!state.isActive)return;$el.off(mousemove,track),state.timeoutId=setTimeout(function(){!function(ev,$el,s,out){var data=$el.data("hoverIntent");data&&delete data[s.id],out.apply($el[0],[ev])}(ev,$el,state,cfg.out)},cfg.timeout)}}return this.on({"mouseenter.hoverIntent":handleHover,"mouseleave.hoverIntent":handleHover},cfg.selector)}});
/* src: catalog/view/theme/journal3/js/common.js */
if(Journal.ocv==4){$(document).ready(function(){$.fn.jbutton=function(state){return this.each(function(){var element=this;if(state=='loading'){this.html=$(element).html();this.state=$(element).prop('disabled');$(element).prop('disabled',true).addClass('disabled')}
if(state=='reset'){$(element).prop('disabled',false).removeClass('disabled')}});}
$.fn.button=$.fn.jbutton;});}else{$.fn.jbutton=$.fn.button;}
window['cart']=window['cart']||{};window['cart'].add=function(product_id,quantity,quick_buy){quantity=quantity||1;$.ajax({url:Journal['add_cart_url'],type:'post',data:'product_id='+product_id+'&quantity='+quantity,dataType:'json',beforeSend:function(){$('[data-toggle="tooltip"]').tooltip('hide');$('[onclick*="cart.add(\''+product_id+'\'"]').jbutton('loading');},complete:function(){$('[onclick*="cart.add(\''+product_id+'\'"]').jbutton('reset');},success:function(json){$('.alert, .text-danger').remove();if(json['redirect']){if(json['options_popup']){var html='';html+='<div class="popup-wrapper popup-options popup-iframe">';html+='	<div class="journal-loading"><em class="fa fa-spinner fa-spin"></em></div>';html+='	<div class="popup-container">';html+='		<div class="popup-body">';html+='		<div class="popup-inner-body">';html+='			<button class="btn popup-close"></button>';html+='			<iframe src="index.php?route=journal3/product&product_id='+product_id+'&popup=options&product_quantity='+quantity+(quick_buy?'&quick_buy=true':'')+(Journal['ocv']==4?'&language='+Journal['language']:'')+'" width="100%" height="100%" frameborder="0" onload="update_popup_height(this)"></iframe>';html+='		</div>';html+='		</div>';html+='	</div>';html+='	<div class="popup-bg popup-bg-closable"></div>';html+='</div>';$('.popup-wrapper').remove();$('body').append(html);setTimeout(function(){$('html').addClass('popup-open popup-center');},10);}else{location=json['redirect'];}}
if(json['success']){if(json['options_popup']){var html='';html+='<div class="popup-wrapper popup-options">';html+='	<div class="journal-loading"><em class="fa fa-spinner fa-spin"></em></div>';html+='	<div class="popup-container">';html+='		<div class="popup-body">';html+='		<div class="popup-inner-body">';html+='			<button class="btn popup-close"></button>';html+='			<iframe src="index.php?route=journal3/product&product_id='+product_id+'&popup=options'+(quick_buy?'&quick_buy=true':'')+(Journal['ocv']==4?'&language='+Journal['language']:'')+'" width="100%" height="100%" frameborder="0" onload="update_popup_height(this)"></iframe>';html+='		</div>';html+='		</div>';html+='	</div>';html+='	<div class="popup-bg popup-bg-closable"></div>';html+='</div>';$('.popup-wrapper').remove();$('body').append(html);setTimeout(function(){$('html').addClass('popup-open popup-center');},10);}else{if(json['notification']){show_notification(json['notification']);if(quick_buy){location=Journal['checkoutUrl'];}}else{$('header').after('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+json['success']+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>');}}
setTimeout(function(){$('#cart-total').html(json['total']);$('#cart-items,.cart-badge').html(json['items_count']);if(json['items_count']){$('#cart-items,.cart-badge').removeClass('count-zero');$('#cart').addClass('cart-has-items');}else{$('#cart-items,.cart-badge').addClass('count-zero');$('#cart').removeClass('cart-has-items');}},100);if(Journal['scrollToTop']){$('html, body').animate({scrollTop:0},'slow');}
$('.cart-content ul').load(Journal['info_cart_url']);if(parent.window['_QuickCheckout']){parent.window['_QuickCheckout'].save();}else if($('html').hasClass('route-checkout-cart')||$('html').hasClass('route-checkout-checkout')){parent.location.reload();}}},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+'\r\n'+xhr.statusText+'\r\n'+xhr.responseText);}});};window['cart'].remove=function(key){$.ajax({url:Journal['remove_cart_url'],type:Journal['remove_cart_method'],data:'key='+key,dataType:'json',beforeSend:function(){$('#cart > button').jbutton('loading');},complete:function(){$('#cart > button').jbutton('reset');},success:function(json){setTimeout(function(){$('#cart-total').html(json['total']);$('#cart-items,.cart-badge').html(json['items_count']);if(json['items_count']){$('#cart-items,.cart-badge').removeClass('count-zero');$('#cart').addClass('cart-has-items');}else{$('#cart-items,.cart-badge').addClass('count-zero');$('#cart').removeClass('cart-has-items');}},100);if($('html').hasClass('route-checkout-cart')||$('html').hasClass('route-checkout-checkout')){location.reload();}else{$('.cart-content ul').load(Journal['info_cart_url']);}},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+'\r\n'+xhr.statusText+'\r\n'+xhr.responseText);}});};window['cart'].update=function(key,quantity){$.ajax({url:Journal['edit_cart_url'],type:'post',data:'key='+key+'&quantity='+(typeof(quantity)!='undefined'?quantity:1),dataType:'json',beforeSend:function(){$('#cart > button').jbutton('loading');},complete:function(){$('#cart > button').jbutton('reset');},success:function(json){setTimeout(function(){$('#cart-total').html(json['total']);$('#cart-items,.cart-badge').html(json['items_count']);if(json['items_count']){$('#cart-items,.cart-badge').removeClass('count-zero');$('#cart').addClass('cart-has-items');}else{$('#cart-items,.cart-badge').addClass('count-zero');$('#cart').removeClass('cart-has-items');}},100);if($('html').hasClass('route-checkout-cart')||$('html').hasClass('route-checkout-checkout')){location='index.php?route=checkout/cart';}else{$('.cart-content ul').load(Journal['info_cart_url']);}},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+'\r\n'+xhr.statusText+'\r\n'+xhr.responseText);}});};window['wishlist']=window['wishlist']||{};window['wishlist'].add=function(product_id){$.ajax({url:Journal['add_wishlist_url'],type:'post',data:'product_id='+product_id,dataType:'json',success:function(json){$('.alert').remove();if(json['redirect']){location=json['redirect'];}
if(json['success']){$('[data-toggle="tooltip"]').tooltip('hide');if(json['notification']){show_notification(json['notification']);}else{$('header').after('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+json['success']+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>');}}
$('#wishlist-total span').html(json['total']);$('#wishlist-total').attr('title',json['total']);$('.wishlist-badge').text(json['count']);if(json['count']){$('.wishlist-badge').removeClass('count-zero');}else{$('.wishlist-badge').addClass('count-zero');}
if(Journal['scrollToTop']){$('html, body').animate({scrollTop:0},'slow');}},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+'\r\n'+xhr.statusText+'\r\n'+xhr.responseText);}});};window['compare']=window['compare']||{};window['compare'].add=function(product_id){$.ajax({url:Journal['add_compare_url'],type:'post',data:'product_id='+product_id,dataType:'json',success:function(json){$('.alert').remove();if(json['success']){$('[data-toggle="tooltip"]').tooltip('hide');if(json['notification']){show_notification(json['notification']);}else{$('header').after('<div class="alert alert-success"><i class="fa fa-check-circle"></i> '+json['success']+' <button type="button" class="close" data-dismiss="alert">&times;</button></div>');}
$('#compare-total').html(json['total']);$('.compare-badge').text(json['count']);if(json['count']){$('.compare-badge').removeClass('count-zero');}else{$('.compare-badge').addClass('count-zero');}
if(Journal['scrollToTop']){$('html, body').animate({scrollTop:0},'slow');}}},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+'\r\n'+xhr.statusText+'\r\n'+xhr.responseText);}});};window['voucher']=window['voucher']||{};window['voucher'].remove=function(key){$.ajax({url:Journal['remove_cart_url'],type:'post',data:'key='+key,dataType:'json',beforeSend:function(){$('#cart > button').jbutton('loading');},complete:function(){$('#cart > button').jbutton('reset');},success:function(json){setTimeout(function(){$('#cart-total').html(json['total']);$('#cart-items,.cart-badge').html(json['items_count']);if(json['items_count']){$('#cart-items,.cart-badge').removeClass('count-zero');}else{$('#cart-items,.cart-badge').addClass('count-zero');}},100);if($('html').hasClass('route-checkout-cart')||$('html').hasClass('route-checkout-checkout')){location='index.php?route=checkout/cart';}else{$('.cart-content ul').load(Journal['info_cart_url']);}},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+'\r\n'+xhr.statusText+'\r\n'+xhr.responseText);}});};window['update_popup_height']=function(iframe){const iframeDocument=iframe.contentWindow.document;let height=iframeDocument.body.clientHeight+4;const buttons=iframeDocument.querySelector('.button-group-page');if(iframe.contentWindow.Journal['isQuickviewPopup']){height+=20;}
if(iframe.contentWindow.Journal['isOptionsPopup']){height+=buttons.offsetHeight;}
iframe.style.height=height+'px';document.documentElement.classList.add('popup-iframe-loaded');};window['quickview']=function(product_id){product_id=parseInt(product_id,10);$('[data-toggle="tooltip"]').tooltip('hide');var html='';html+='<div class="popup-wrapper popup-quickview popup-iframe">';html+='	<div class="journal-loading"><em class="fa fa-spinner fa-spin"></em></div>';html+='	<div class="popup-container">';html+='		<div class="popup-body">';html+='			<div class="popup-inner-body">';html+='				<button class="btn popup-close"></button>';html+='				<iframe src="index.php?route=journal3/product&product_id='+product_id+'&popup=quickview'+(Journal['ocv']==4?'&language='+Journal['language']:'')+'" width="100%" height="100%" frameborder="0" onload="update_popup_height(this)"></iframe>';html+='			</div>';html+='		</div>';html+='	</div>';html+='	<div class="popup-bg popup-bg-closable"></div>';html+='</div>';$('.popup-wrapper').remove();$('body').append(html);setTimeout(function(){$('html').addClass('popup-open popup-center');},10);};window['open_popup']=function(module_id){module_id=parseInt(module_id,10);var html='';html+='<div class="popup-wrapper popup-module popup-iframe">';html+='	<div class="journal-loading"><em class="fa fa-spinner fa-spin"></em></div>';html+='	<div class="popup-container">';html+='		<div class="popup-body">';html+='		<div class="popup-inner-body">';html+='			<button class="btn popup-close"></button>';html+='		</div>';html+='		</div>';html+='	</div>';html+='	<div class="popup-bg popup-bg-closable"></div>';html+='</div>';$('.popup-wrapper').remove();$('body').append(html);setTimeout(function(){$('html').addClass('popup-open popup-center');},10);$('.popup-container').css('visibility','hidden');$.ajax({url:'index.php?route=journal3/popup'+Journal['route_separator']+'get&module_id='+module_id+'&popup=module'+(Journal['ocv']==4?'&language='+Journal['language']:''),success:function(html){var $html=$(html);var $popup=$html.siblings('.module-popup');var $style=$html.siblings('style');var $content=$popup.find('.popup-container');$('#popup-style-'+module_id).remove();$('head').append($style.attr('id','popup-style-'+module_id));$('.popup-wrapper').attr('class',$popup.attr('class'));$('.popup-container').html($content.html());$('.popup-container').css('visibility','visible');Journal.lazy();},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+'\r\n'+xhr.statusText+'\r\n'+xhr.responseText);}});};window['open_login_popup']=function(){var html='';html+='<div class="popup-wrapper popup-login popup-iframe">';html+='	<div class="journal-loading"><em class="fa fa-spinner fa-spin"></em></div>';html+='	<div class="popup-container">';html+='		<div class="popup-body">';html+='		<div class="popup-inner-body">';html+='			<button class="btn popup-close"></button>';html+='			<iframe src="index.php?route=account/login&popup=login'+(Journal['ocv']==4?'&language='+Journal['language']:'')+'" width="100%" height="100%" frameborder="0" onload="update_popup_height(this)"></iframe>';html+='		</div>';html+='		</div>';html+='	</div>';html+='	<div class="popup-bg popup-bg-closable"></div>';html+='</div>';$('.popup-wrapper').remove();$('body').append(html);setTimeout(function(){$('html').addClass('popup-open popup-center');},10);};window['open_register_popup']=function(){var html='';html+='<div class="popup-wrapper popup-register popup-iframe">';html+='	<div class="journal-loading"><em class="fa fa-spinner fa-spin"></em></div>';html+='	<div class="popup-container">';html+='		<div class="popup-body">';html+='		<div class="popup-inner-body">';html+='			<button class="btn popup-close"></button>';html+='			<iframe src="index.php?route=account/register&popup=register'+(Journal['ocv']==4?'&language='+Journal['language']:'')+'" width="100%" height="100%" frameborder="0" onload="update_popup_height(this)"></iframe>';html+='		</div>';html+='		</div>';html+='	</div>';html+='	<div class="popup-bg popup-bg-closable"></div>';html+='</div>';$('.popup-wrapper').remove();$('body').append(html);setTimeout(function(){$('html').addClass('popup-open popup-center');},10);};window['show_notification']=function(opts){opts=$.extend({position:'center',className:'',title:'',image:'',message:'',buttons:[],timeout:Journal.notificationHideAfter},opts);if($('.notification-wrapper-'+opts.position).length===0){$('body').append('<div class="notification-wrapper notification-wrapper-'+opts.position+'"></div>');}
var html='';var buttons=$.map(opts.buttons,function(button){return'<a class="'+button.className+'" href="'+button.href+'">'+button.name+'</a>';});html+='<div class="notification '+opts.className+'">';html+='	<button class="btn notification-close"></button>';html+='	<div class="notification-content">';if(opts.image){html+='		<img src="'+opts.image+'" srcset="'+opts.image+' 1x, '+opts.image2x+' 2x">';}
html+='		<div>';html+='			<div class="notification-title">'+opts.title+'</div>';html+='			<div class="notification-text">'+opts.message+'</div>';html+='		</div>';html+='	</div>';if(buttons&&buttons.length){html+='<div class="notification-buttons">'+buttons.join('\n')+'</div>';}
html+='</div>';var $notification=$(html);$('.notification-wrapper-'+opts.position).append($notification);if(opts.timeout){setTimeout(function(){$notification.find('.notification-close').trigger('click');},opts.timeout);}
return $notification;};window['show_message']=function(opts){opts=$.extend({position:'message',className:'',message:'',timeout:0},opts);parent.$('.notification-wrapper-'+opts.position).remove();parent.show_notification(opts);}
window['loader']=function(el,status){var $el=$(el);if(status){$el.attr('style','position: relative');$el.append('<div class="journal-loading-overlay"><div class="journal-loading"><em class="fa fa-spinner fa-spin"></em></div></div>');}else{$el.attr('style','');$el.find('.journal-loading-overlay').remove();}};
/* src: catalog/view/theme/journal3/js/journal.js */
(function($){const $html=$('html');Journal.lazy('image','.lazyload',{loaded:function(el){el.classList.add('lazyloaded');}});if(Journal['isDesktop']){Journal.lazy('tooltip','[data-toggle="tooltip-hover"]',{load:function(el){const $el=$(el);$el.tooltip({container:'body'});}});}
$(document).on('show.bs.tooltip',function(e){const $el=$(e.target);$el.attr('title','');$el.data('tooltipClass')&&$el.data('bs.tooltip').$tip.addClass($el.data('tooltipClass'));});Journal.lazy('dropdown','[data-toggle="dropdown"]',{load:function(el){const $el=$(el);$el.attr('data-toggle','dropdown-hover');}});function clear_dropdowns(){const $trigger=$('> .dropdown-toggle',this);const $dropdown=$(this);const relatedTarget={relatedTarget:$trigger[0]};$dropdown.trigger(e=$.Event('hide.bs.dropdown',relatedTarget));if(e.isDefaultPrevented()){return;}
$dropdown.removeClass('open');$trigger.attr('aria-expanded','true');$dropdown.trigger(e=$.Event('hidden.bs.dropdown',relatedTarget));}
$(document).on('click','[data-toggle="dropdown-hover"]',function(e){const $trigger=$(this);const $dropdown=$(this).closest('.dropdown');const relatedTarget={relatedTarget:$trigger[0]};const isOpen=$dropdown.hasClass('open');const isLink=$trigger.attr('href')&&!$trigger.attr('href').startsWith('javascript:;');if(isOpen&&isLink){return;}
e.preventDefault();e.stopPropagation();if(!isOpen){$dropdown.trigger(e=$.Event('show.bs.dropdown',relatedTarget));if(e.isDefaultPrevented()){return;}
$('.dropdown.open').not($dropdown).not($dropdown.parents('.dropdown')).each(clear_dropdowns);$dropdown.addClass('open');$trigger.attr('aria-expanded','false');$dropdown.trigger(e=$.Event('shown.bs.dropdown',relatedTarget));}else{$dropdown.trigger(e=$.Event('hide.bs.dropdown',relatedTarget));if(e.isDefaultPrevented()){return;}
$dropdown.removeClass('open');$trigger.attr('aria-expanded','true');$dropdown.trigger(e=$.Event('hidden.bs.dropdown',relatedTarget));}});$(document).on('click',function(e){$('.dropdown.open').not($(e.target).parents('.dropdown')).each(clear_dropdowns);});if(Journal['isDesktop']){function dropdownOver(e){if(Journal['isTouch']){return;}
const $trigger=$('> .dropdown-toggle',this);const $dropdown=$(this);const relatedTarget={relatedTarget:$trigger[0]};$dropdown.trigger(e=$.Event('show.bs.dropdown',relatedTarget));if(e.isDefaultPrevented()){return;}
$dropdown.addClass('open');$trigger.attr('aria-expanded','false');$dropdown.trigger(e=$.Event('shown.bs.dropdown',relatedTarget));}
function dropdownOut(e){if(Journal['isTouch']){return;}
const $trigger=$('> .dropdown-toggle',this);const $dropdown=$(this);const relatedTarget={relatedTarget:$trigger[0]};$dropdown.trigger(e=$.Event('hide.bs.dropdown',relatedTarget));if(e.isDefaultPrevented()){return;}
$dropdown.removeClass('open');$trigger.attr('aria-expanded','true');$dropdown.trigger(e=$.Event('hidden.bs.dropdown',relatedTarget));}
$(document).hoverIntent({over:dropdownOver,out:dropdownOut,selector:'.dropdown:not([data-overlay]):not(.search-dropdown-page):not(.dropdown .dropdown)'});$(document).on('mouseenter','.dropdown .dropdown',dropdownOver);$(document).on('mouseleave','.dropdown .dropdown',dropdownOut);}
$(document).on('shown.bs.dropdown',function(e){const $dropdown=$(e.target);$dropdown.outerWidth();$dropdown.addClass('animating');});$(document).on('hidden.bs.dropdown',function(e){const $dropdown=$(e.target);$dropdown.removeClass('animating');});$(document).on('show.bs.dropdown',function(e){const el=$(e.target).find('template')[0]||$(' > template',e.target)[0];if(Journal['mobile_header_active']){if(Journal['header_mobile_dropdown_color_scheme']){const menu=$(e.target).find('.dropdown-menu')[0]||$(' > .dropdown-menu',e.target)[0];if(!$(menu).is('[class*="color-scheme-"]')){menu.classList.add(Journal['header_mobile_dropdown_color_scheme']);}}}else{if(Journal['header_dropdown_color_scheme']){const menu=$(e.target).find('.dropdown-menu')[0]||$(' > .dropdown-menu',e.target)[0];if(!$(menu).is('[class*="color-scheme-"]')){menu.classList.add(Journal['header_dropdown_color_scheme']);}}}
if(el){Journal.template(el);Journal.lazy();}});$(document).on('shown.bs.dropdown',function(e){const $el=$(e.target);if($el.data('open-color-scheme')){$el.addClass($el.data('open-color-scheme'));}});$(document).on('hidden.bs.dropdown',function(e){const $el=$(e.target);if($el.data('open-color-scheme')){$el.removeClass($el.data('open-color-scheme'));}});$(document).on('show.bs.popover',function(e){const $el=$(e.target);$el.data('popoverClass')&&$el.data('bs.popover').$tip.addClass($el.data('popoverClass'));});$(document).on('dp.show',function(e){const $el=$(e.target);$el.data('pickerClass')&&$el.data('DateTimePicker').widget.addClass($el.data('pickerClass'));});$(document).on('show.bs.collapse',function(e){$(e.target).parent().addClass('panel-active');});$(document).on('hide.bs.collapse',function(e){$(e.target).parent().removeClass('panel-active');});$(document).on('show.bs.collapse',function(e){const el=$(e.target).find('template')[0];if(el){Journal.template(el);Journal.lazy();}});$(document).on('show.bs.tab',function(e){const href=$(e.target).attr('href');const el=$(href).filter('template')[0];if(el){Journal.template(el);Journal.lazy();}});$(document).on('click','[data-off-canvas]',function(e){e.preventDefault();const $this=$(this);const $container=$('.'+$this.data('off-canvas'));if(Journal['header_offcanvas_color_scheme']){$container[0].classList.add('has-color-scheme',Journal['header_offcanvas_color_scheme']);}
const el=$container.find('template')[0];if(el){Journal.template(el);Journal.lazy();}
$html.addClass('mobile-overlay');$html.addClass($this.data('off-canvas')+'-open');$container.outerWidth();$container.addClass('animating');if($this.data('off-canvas')==='mobile-main-menu-container'){Journal.mobileOffCanvasDropdownOffset&&Journal.mobileOffCanvasDropdownOffset();}});$(document).on('click','.mobile-overlay .site-wrapper, .x',function(){const $this=$(this);$('.mobile-container.animating').removeClass('animating');$html.removeClass('mobile-overlay');setTimeout(function(){$('[data-off-canvas]').each(function(){const $this=$(this);$html.removeClass($this.data('off-canvas')+'-open');});},300);});$(document).on('click','.accordion-menu span[data-toggle="collapse"]',function(e){return false;});$(document).on('click','.accordion-menu a',function(e){const $this=$(this);const $trigger=$('> span[data-toggle="collapse"]',this);const isLink=$this.attr('href')&&!$this.attr('href').startsWith('javascript:');if(Journal['isDesktop']&&isLink){return;}
if($trigger.length&&(!isLink||$trigger.attr('aria-expanded')!=='true')){e.preventDefault();$trigger.trigger('click');}});if(Journal['isDesktop']&&Journal['isAdmin']){Journal.lazy('dimensions','.grid-col > .grid-items > .grid-item',{load:function(el){$(el).one('mouseover',function(){const $this=$(this);$this.attr('data-dimensions',$this.width()+' x '+$this.height());});}});}
if(Journal['isDesktop']&&Journal['isAdmin']){$(document).on('click','[data-edit]',function(){window['__j_edited']=false;const src=Journal.admin_url+'#/'+$(this).data('edit');$('.admin-edit-popup').remove();$html.addClass('is-editor-open');$('body').append(''+'<div class="admin-edit-popup">'+'	<div class="journal-loading"><em class="fa fa-spinner fa-spin"></em></div>'+'	<button class="admin-close-edit" type="button">&times;</button>'+'	<iframe src="'+src+'" onload="$(\'.admin-edit-popup .journal-loading\').remove()" />'+'</div>');});$(document).on('click','.admin-close-edit',function(){if(window['__j_edited']){window.location.reload();}else{$html.removeClass('is-editor-open');$('.admin-edit-popup').remove();}});$(document).on('click','.admin-close-bar',function(){$(this).tooltip('hide');$html.toggleClass('admin-bar-visible');window.localStorage.setItem('j-editor',$html.hasClass('admin-bar-visible')?'visible':'hidden');});}
if(Journal['performanceJSDefer']){$('script[type="text/javascript/defer"]').each(function(){$(this).after($('<script type="text/javascript"/>').text($(this).clone().text())).remove();});}
if(Journal['isLoginPopup']||Journal['isRegisterPopup']||Journal['isQuickviewPopup']||Journal['isOptionsPopup']){$('a[href]').each(function(){const $this=$(this);if(!$this.attr('target')){$this.attr('target','_blank');}
if(!Journal['isDesktop']){$this.removeClass('agree');}});}
if(!('scrollBehavior'in document.documentElement.style)){Journal.load(Journal['assets']['smoothscroll'],'smoothscroll');}
$(document).on('click','[data-scroll-to]',function(e){e.preventDefault();$($(this).data('scroll-to'))[0].scrollIntoView({behavior:'smooth'});});if(Journal['scrollTop']){let scrollTopTimeout;$(window).on('scroll',function(){const scroll=$(this)[0].scrollY;clearTimeout(scrollTopTimeout);if(scroll>500){$('.scroll-top').addClass('scroll-top-active');scrollTopTimeout=setTimeout(function(){$('.scroll-top').removeClass('scroll-top-active');},3000);}else{$('.scroll-top').removeClass('scroll-top-active');}});$('.scroll-top').on('click',function(){window.scrollTo({top:0,behavior:'smooth'});});}
$(document).on('click','.block-expand',function(){$(this).closest('.expand-block').find('.expand-content').toggleClass('block-expanded');});$('.block-map iframe').on('load',function(){$('.block-map .journal-loading').hide();});if(Journal['rippleStatus']&&Journal['rippleSelectors']){Journal.lazy('ripple',Journal['rippleSelectors'],{load:function(el){const ripple=document.createElement('small');el.classList.add('ripple');el.appendChild(ripple);el.addEventListener('click',function(e){e=e.touches?e.touches[0]:e;const r=el.getBoundingClientRect(),d=Math.sqrt(Math.pow(r.width,2)+Math.pow(r.height,2))*2;el.style.cssText=`--s: 0; --o: 1;`;el.offsetTop;el.style.cssText=`--t: 1; --o: 0; --d: ${d}; --x:${e.clientX - r.left}; --y:${e.clientY - r.top};`});}});}
$(function(){$('#form-currency .currency-select').off('click').on('click',function(e){e.preventDefault();$('#form-currency input[name=\'code\']').val($(this).data('name'));$('#form-currency').submit();});if(Journal['ocv']!==4){$('#form-language .language-select').off('click').on('click',function(e){e.preventDefault();$('#form-language input[name=\'code\']').val($(this).data('name'));$('#form-language').submit();});}});$(document).delegate('[data-open-popup]','click',function(e){const $template=$($(this).data('open-popup'));$('.popup-wrapper').remove();$('body').append($template.html());setTimeout(function(){$('html').addClass('popup-open popup-center');Journal.lazy();},10);});$(document).delegate('[data-bs-dismiss="modal"]','click',function(e){$(e.target).closest('.modal').modal('hide');});function flyoutOffset(el){el.style.setProperty('--element-top-offset',el.getBoundingClientRect().top+'px');}
$(document).on('shown.bs.dropdown',function(e){const $parent=$(e.relatedTarget).parent();if($parent.hasClass('flyout-menu-item')){const $dropdown=$('> .j-dropdown',$parent);flyoutOffset($dropdown[0]);}});$(window).on('scroll',function(){if(!Journal['mobile_header_active']){document.querySelectorAll('.flyout-menu > .j-menu > .flyout-menu-item.mega-menu > .j-dropdown').forEach(flyoutOffset);}});})(jQuery);(function($){$('#content > h1').addClass('title page-title');})(jQuery);(function($){var $html=$('html');var $body=$('body');$(document).delegate('.btn-extra','click',function(){parent.window.__popup_url=$(this).data('product_url')||'';});var $desktop_main_menu_wrapper=$('.desktop-main-menu-wrapper');var $desktop_cart_wrapper=$('.desktop-cart-wrapper');var $desktop_search_wrapper=$('.desktop-search-wrapper');$desktop_main_menu_wrapper.delegate('.main-menu > .j-menu > .dropdown','mouseover',function(){$body.addClass('menu-open');});$desktop_main_menu_wrapper.delegate('.main-menu','mouseleave',function(){$body.removeClass('menu-open');});$desktop_cart_wrapper.delegate('#cart','mouseover',function(){$body.addClass('cart-open');});$desktop_cart_wrapper.delegate('#cart','mouseleave',function(){$body.removeClass('cart-open');});$desktop_search_wrapper.delegate('.search-categories','mouseover',function(){$body.addClass('search-open');});$desktop_search_wrapper.delegate('.search-categories','mouseleave',function(){$body.removeClass('search-open');});$('.links-menu .module-title').addClass('closed');$('.links-menu .module-title').click(function(){$(this).toggleClass('closed');});const target=document.querySelector(Journal['isPopup']?'html':'.popup-inner-body > .grid-rows');if(target&&parent.document.documentElement.classList.contains('popup-open')){parent.document.addEventListener('wheel',function(event){target.scrollTop+=event.deltaY;});}
if(Journal['isOptionsPopup']){const $el=document.querySelector('.popup-options .button-group-page');document.documentElement.style.setProperty('--popup-fixed-buttons',`${$el ? $el.offsetHeight : 0}px`);}
if(Journal['isQuickviewPopup']){const $el=document.querySelector('.popup-quickview .button-group-page');document.documentElement.style.setProperty('--popup-fixed-buttons',`${$el ? $el.offsetHeight : 0}px`);}
if(document.documentElement.classList.contains('route-product-manufacturer')){const $el=document.querySelector('.brand-index');document.documentElement.style.setProperty('--brand-index-height',`${$el ? $el.offsetHeight : 0}px`);}
if(document.documentElement.classList.contains('route-product-product')){const $el=document.querySelector('.button-group-page');document.documentElement.style.setProperty('--fixed-product-buttons',`${$el ? $el.offsetHeight : 0}px`);}
if(document.querySelectorAll('.buttons > div').length>1&&document.querySelectorAll('.buttons > div > .agree').length>0){document.querySelector('.buttons').classList.add('dual-agree');}
$(function(){$('.product-img, .product-image img').hover(function(e){$(this).attr('data-title',$(this).attr('title'));$(this).removeAttr('title');},function(e){$(this).attr('title',$(this).attr('data-title'));});});$('#information-information #content table').each(function(){$(this).wrap('<div class="table-responsive"></div>')});})(jQuery);(function($){var $html=$('html');var $body=$('body');if($html.hasClass('footer-reveal')){var footerHeight=$('.desktop.footer-reveal footer').outerHeight();$('.desktop body').css('padding-bottom',footerHeight);}})(jQuery);
/* src: catalog/view/theme/journal3/js/stepper.js */
(function($){Journal['stepperDecimals']=+Journal['stepperDecimals']||0;function stepper(el){const $this=$(el);const $input=$this.find('input[name^="quantity"]');const minimum=parseFloat($input.data('minimum'))||1;function change(value,delta){value=value||0;delta=delta||0;if(!Journal['stepperDecimals']){delta=1;}
const val=Math.max((+$input.val()||0)+value*delta,minimum);$input.val(val.toFixed(Journal['stepperDecimals']));$input.trigger('change');}
$this.find('.fa-angle-up').on('click',function(e){change(1,e.shiftKey?0.1:1);});$this.find('.fa-angle-down').on('click',function(e){change(-1,e.shiftKey?0.1:1);});$input.on('keydown',function(e){switch(e.key){case'ArrowUp':e.preventDefault();change(1,e.shiftKey?0.1:1);break;case'ArrowDown':e.preventDefault();change(-1,e.shiftKey?0.1:1);break;}});$input.on('blur',function(){change();});}
if(Journal['stepperStatus']){Journal.lazy('stepper','.stepper',{load:function(el){stepper(el);}});}})(jQuery);
/* src: catalog/view/theme/journal3/js/countdown.js */
(function($){function countdown(el){const $this=$(el);$this.countdown({date:$this.data('date'),render:function(data){return $(this.el).html('<div>'+this.leadingZeros(data.days,2)+' <span>'+Journal['countdownDay']+'</span></div>'+'<div>'+this.leadingZeros(data.hours,2)+' <span>'+Journal['countdownHour']+'</span></div>'+'<div>'+this.leadingZeros(data.min,2)+' <span>'+Journal['countdownMin']+'</span></div>'+'<div>'+this.leadingZeros(data.sec,2)+' <span>'+Journal['countdownSec']+'</span></div>');}});}
Journal.lazy('countdown','.countdown',{load:function(el){Journal.load(Journal['assets']['countdown'],'countdown',function(){countdown(el);});}});})(jQuery);
/* src: catalog/view/theme/journal3/js/search.js */
(function($){const $search=$('#search');const $search_input=$search.find('input[name=\'search\']');const $search_button=$('.search-button');function search(){const query=$search_input.val().trim();if(!query){return false;}
let url=Journal['search_url'].replace('__QUERY__',query);const category_id=parseInt($search_input.attr('data-category_id'),10);if(category_id){url+='&category_id='+category_id.toString();if(Journal['searchStyleSearchAutoSuggestSubCategories']){url+='&sub_category=1';}}
if(Journal['searchStyleSearchAutoSuggestDescription']){url+='&description=1';}
window.location.href=url;}
$(document).on('click','.search-categories li',function(e){const $this=$(this);$('.search-categories-button').html($this.html());$search_input.attr('data-category_id',$this.attr('data-category_id'));$search_input.focus();});$search.on('shown.bs.dropdown',function(e){if(e.relatedTarget.classList.contains('search-trigger')){document.documentElement.classList.add('search-page-open');}});$search.on('hide.bs.dropdown',function(e){if(e.relatedTarget.classList.contains('search-trigger')){document.documentElement.classList.remove('search-page-open');}});$search.on('shown.bs.dropdown',function(){$search_input.focus();});$search_input.on('focus',function(){$(this).closest('.header-search').addClass('focused');});$search_input.on('blur',function(){$(this).closest('.header-search').removeClass('focused');});$(function(){$search_button.off('click').on('click',function(e){search();});$search_input.off('keydown').on('keydown',function(e){if(e.keyCode===13){search();}});});if(Journal['searchStyleSearchAutoSuggestStatus']){$('#search-input-el').one('focus',function(){Journal.load(Journal['assets']['typeahead'],'typeahead',function(){$search_input.typeahead({classNames:{menu:`tt-menu ${Journal[Journal['mobile_header_active'] ? 'header_mobile_search_results_color_scheme' : 'header_search_results_color_scheme']}`},hint:true,minLength:1,autoSelect:true},{async:true,display:'name',limit:Infinity,source:function(query,processSync,processAsync){let url=Journal['autosuggest_url'].replace('__QUERY__',query);const category_id=parseInt($search_input.attr('data-category_id'),10);if(category_id){url+='&category_id='+category_id.toString();if(Journal['searchStyleSearchAutoSuggestSubCategories']){url+='&sub_category=1';}}
if(Journal['searchStyleSearchAutoSuggestDescription']){url+='&description=1';}
if(window['__journal_search_timeout']){clearTimeout(window['__journal_search_timeout']);}
window['__journal_search_timeout']=setTimeout(function(){if(window['__journal_search_ajax']){window['__journal_search_ajax'].abort();}
window['__journal_search_ajax']=$.get({url:url,dataType:'json',success:function(json){return processAsync(json['response']);}});},250);},templates:{suggestion:function(data){if(data['view_more']){return'<div class="search-result view-more"><a href="'+data['href']+'">'+data['name']+'</a></div>';}
if(data['no_results']){return'<div class="search-result no-results"><a>'+data['name']+'</a></div>';}
var html='';html+='<div class="search-result"><a href="'+data['href']+'">';if(data['thumb']){html+='<img src="'+data['thumb']+'" srcset="'+data['thumb']+' 1x, '+data['thumb2']+' 2x" />';}
var classes=[];if(data['quantity']<=0){classes.push('out-of-stock');}
if(!data['price_value']){classes.push('has-zero-price');}
html+='<span class="'+classes.join(' ')+'">';html+='<span class="product-name">'+data['name']+'</span>';if(data['price']){if(data['special']){html+='<span><span class="price-old">'+data['price']+'</span><span class="price-new">'+data['special']+'</span></span>';}else{html+='<span class="price">'+data['price']+'</span>';}}
html+='</span>';html+='</a></div>';return html;}}});$('.header-search > span > div').addClass('tt-empty');$('#search-input-el').trigger('focus');$('.mobile .tt-menu').on('click',function(e){e.stopPropagation();});});});}})(jQuery);
/* src: catalog/view/theme/journal3/lib/ias/jquery-ias.min.js */
/*!
 * Infinite Ajax Scroll v2.3.1
 * A jQuery plugin for infinite scrolling
 * https://infiniteajaxscroll.com
 *
 * Commercial use requires one-time purchase of a commercial license
 * https://infiniteajaxscroll.com/docs/license.html
 *
 * Non-commercial use is licensed under the MIT License
 *
 * Copyright (c) 2018 Webcreate (Jeroen Fiege)
 */
var IASCallbacks=function(t){return this.list=[],this.fireStack=[],this.isFiring=!1,this.isDisabled=!1,this.Deferred=t.Deferred,this.fire=function(t){var i=t[0],e=t[1],n=t[2];this.isFiring=!0;for(var r=0,s=this.list.length;s>r;r++)if(null!=this.list[r]&&!1===this.list[r].fn.apply(i,n)){e.reject();break}this.isFiring=!1,e.resolve(),this.fireStack.length&&this.fire(this.fireStack.shift())},this.inList=function(t,i){for(var e=i=i||0,n=this.list.length;n>e;e++)if(this.list[e].fn===t||t.guid&&this.list[e].fn.guid&&t.guid===this.list[e].fn.guid)return e;return-1},this};IASCallbacks.prototype={add:function(t,i){var e={fn:t,priority:i};i=i||0;for(var n=0,r=this.list.length;r>n;n++)if(i>this.list[n].priority)return this.list.splice(n,0,e),this;return this.list.push(e),this},remove:function(t){for(var i=0;(i=this.inList(t,i))>-1;)this.list.splice(i,1);return this},has:function(t){return this.inList(t)>-1},fireWith:function(t,i){var e=this.Deferred();return this.isDisabled?e.reject():(i=[t,e,(i=i||[]).slice?i.slice():i],this.isFiring?this.fireStack.push(i):this.fire(i),e)},disable:function(){this.isDisabled=!0},enable:function(){this.isDisabled=!1}},function(t){"use strict";var i=function(i,e){return this.itemsContainerSelector=e.container,this.itemSelector=e.item,this.nextSelector=e.next,this.paginationSelector=e.pagination,this.$scrollContainer=i,this.$container=window===i.get(0)?t(document):i,this.defaultDelay=e.delay,this.negativeMargin=e.negativeMargin,this.nextUrl=null,this.isBound=!1,this.isPaused=!1,this.isInitialized=!1,this.jsXhr=!1,this.listeners={next:new IASCallbacks(t),load:new IASCallbacks(t),loaded:new IASCallbacks(t),render:new IASCallbacks(t),rendered:new IASCallbacks(t),scroll:new IASCallbacks(t),noneLeft:new IASCallbacks(t),ready:new IASCallbacks(t)},this.extensions=[],this.scrollHandler=function(){if(this.isBound&&!this.isPaused){var t=this.getCurrentScrollOffset(this.$scrollContainer),i=this.getScrollThreshold();-1!=i&&(this.fire("scroll",[t,i]),t>=i&&this.next())}},this.getItemsContainer=function(){return t(this.itemsContainerSelector,this.$container)},this.getLastItem=function(){return t(this.itemSelector,this.getItemsContainer().get(0)).last()},this.getFirstItem=function(){return t(this.itemSelector,this.getItemsContainer().get(0)).first()},this.getScrollThreshold=function(t){var i;return t=(t=t||this.negativeMargin)>=0?-1*t:t,0===(i=this.getLastItem()).length?-1:i.offset().top+i.height()+t},this.getCurrentScrollOffset=function(t){var i,e=t.height();return i=window===t.get(0)?t.scrollTop():t.offset().top,(-1!=navigator.platform.indexOf("iPhone")||-1!=navigator.platform.indexOf("iPod"))&&(e+=80),i+e},this.getNextUrl=function(i){return i=i||this.$container,t(this.nextSelector,i).last().attr("href")},this.load=function(i,e,n){var r,s,o=this,h=[],a=+new Date;n=n||this.defaultDelay;var A={url:i,ajaxOptions:{dataType:"html"}};return o.fire("load",[A]),this.jsXhr=t.ajax(A.url,A.ajaxOptions).done(t.proxy(function(i){0===(r=t(this.itemsContainerSelector,i).eq(0)).length&&(r=t(i).filter(this.itemsContainerSelector).eq(0)),r&&r.find(this.itemSelector).each(function(){h.push(this)}),o.fire("loaded",[i,h]),e&&(s=+new Date-a,n>s?setTimeout(function(){e.call(o,i,h)},n-s):e.call(o,i,h))},o)),this.jsXhr},this.render=function(i,e){var n=this,r=this.getLastItem(),s=0,o=this.fire("render",[i]);o.done(function(){t(i).hide(),r.after(i),t(i).fadeIn(400,function(){++s<i.length||(n.fire("rendered",[i]),e&&e())})}),o.fail(function(){e&&e()})},this.hidePagination=function(){this.paginationSelector&&t(this.paginationSelector,this.$container).hide()},this.restorePagination=function(){this.paginationSelector&&t(this.paginationSelector,this.$container).show()},this.throttle=function(i,e){var n,r,s=0;return n=function(){function t(){s=+new Date,i.apply(n,o)}var n=this,o=arguments,h=+new Date-s;r?clearTimeout(r):t(),h>e?t():r=setTimeout(t,e)},t.guid&&(n.guid=i.guid=i.guid||t.guid++),n},this.fire=function(t,i){return this.listeners[t].fireWith(this,i)},this.pause=function(){this.isPaused=!0},this.resume=function(){this.isPaused=!1},this};i.prototype.initialize=function(){if(this.isInitialized)return!1;var t=!!("onscroll"in this.$scrollContainer.get(0)),i=this.getCurrentScrollOffset(this.$scrollContainer),e=this.getScrollThreshold();return!!t&&(this.hidePagination(),this.bind(),this.nextUrl=this.getNextUrl(),this.nextUrl||this.fire("noneLeft",[this.getLastItem()]),this.nextUrl&&i>=e?(this.next(),this.one("rendered",function(){this.isInitialized=!0,this.fire("ready")})):(this.isInitialized=!0,this.fire("ready")),this)},i.prototype.reinitialize=function(){this.isInitialized=!1,this.unbind(),this.initialize()},i.prototype.bind=function(){if(!this.isBound){this.$scrollContainer.on("scroll",t.proxy(this.throttle(this.scrollHandler,150),this));for(var i=0,e=this.extensions.length;e>i;i++)this.extensions[i].bind(this);this.isBound=!0,this.resume()}},i.prototype.unbind=function(){if(this.isBound){this.$scrollContainer.off("scroll",this.scrollHandler);for(var t=0,i=this.extensions.length;i>t;t++)void 0!==this.extensions[t].unbind&&this.extensions[t].unbind(this);this.isBound=!1}},i.prototype.destroy=function(){try{this.jsXhr.abort()}catch(t){}this.unbind(),this.$scrollContainer.data("ias",null)},i.prototype.on=function(i,e,n){if(void 0===this.listeners[i])throw new Error('There is no event called "'+i+'"');return n=n||0,this.listeners[i].add(t.proxy(e,this),n),this.isInitialized&&("ready"===i?t.proxy(e,this)():"noneLeft"!==i||this.nextUrl||t.proxy(e,this)()),this},i.prototype.one=function(t,i){var e=this,n=function(){e.off(t,i),e.off(t,n)};return this.on(t,i),this.on(t,n),this},i.prototype.off=function(t,i){if(void 0===this.listeners[t])throw new Error('There is no event called "'+t+'"');return this.listeners[t].remove(i),this},i.prototype.next=function(){var t=this.nextUrl,i=this;if(!t)return!1;this.pause();var e=this.fire("next",[t]);return e.done(function(){i.load(t,function(t,e){i.render(e,function(){i.nextUrl=i.getNextUrl(t),i.nextUrl||i.fire("noneLeft",[i.getLastItem()]),i.resume()})})}),e.fail(function(){i.resume()}),!0},i.prototype.extension=function(t){if(void 0===t.bind)throw new Error('Extension doesn\'t have required method "bind"');return void 0!==t.initialize&&t.initialize(this),this.extensions.push(t),this.isBound&&this.reinitialize(),this},t.ias=function(i){var e=t(window);return e.ias.apply(e,arguments)},t.fn.ias=function(e){var n=Array.prototype.slice.call(arguments),r=this;return this.each(function(){var s=t(this),o=s.data("ias"),h=t.extend({},t.fn.ias.defaults,s.data(),"object"==typeof e&&e);if(o||(s.data("ias",o=new i(s,h)),h.initialize&&t(document).ready(t.proxy(o.initialize,o))),"string"==typeof e){if("function"!=typeof o[e])throw new Error('There is no method called "'+e+'"');n.shift(),o[e].apply(o,n)}r=o}),r},t.fn.ias.defaults={item:".item",container:".listing",next:".next",pagination:!1,delay:600,negativeMargin:10,initialize:!0}}(jQuery);var IASHistoryExtension=function(t){return t=jQuery.extend({},this.defaults,t),this.ias=null,this.prevSelector=t.prev,this.prevUrl=null,this.listeners={prev:new IASCallbacks(jQuery)},this.onPageChange=function(t,i,e){if(window.history&&window.history.replaceState){var n=history.state;try{var u=new URL(e);u.host=window.location.host,u.hostname=window.location.hostname,u.protocol=window.location.protocol,e=u.toString()}catch(o){};history.replaceState(n,document.title,e)}},this.onScroll=function(t,i){var e=this.getScrollThresholdFirstItem();this.prevUrl&&(e>=(t-=this.ias.$scrollContainer.height())&&this.prev())},this.onReady=function(){var t=this.ias.getCurrentScrollOffset(this.ias.$scrollContainer);this.getScrollThresholdFirstItem()>=(t-=this.ias.$scrollContainer.height())&&this.prev()},this.getPrevUrl=function(t){return t||(t=this.ias.$container),jQuery(this.prevSelector,t).last().attr("href")},this.getScrollThresholdFirstItem=function(){var t;return 0===(t=this.ias.getFirstItem()).length?-1:t.offset().top},this.renderBefore=function(t,i){var e=this.ias,n=e.getFirstItem(),r=0;e.fire("render",[t]),jQuery(t).hide(),n.before(t),jQuery(t).fadeIn(400,function(){++r<t.length||(e.fire("rendered",[t]),i&&i())})},this};IASHistoryExtension.prototype.initialize=function(t){var i=this;this.ias=t,jQuery.extend(t.listeners,this.listeners),t.prev=function(){return i.prev()},this.prevUrl=this.getPrevUrl()},IASHistoryExtension.prototype.bind=function(t){t.on("pageChange",jQuery.proxy(this.onPageChange,this)),t.on("scroll",jQuery.proxy(this.onScroll,this)),t.on("ready",jQuery.proxy(this.onReady,this))},IASHistoryExtension.prototype.unbind=function(t){t.off("pageChange",this.onPageChange),t.off("scroll",this.onScroll),t.off("ready",this.onReady)},IASHistoryExtension.prototype.prev=function(){var t=this.prevUrl,i=this,e=this.ias;if(!t)return!1;e.pause();var n=e.fire("prev",[t]);return n.done(function(){e.load(t,function(t,n){i.renderBefore(n,function(){i.prevUrl=i.getPrevUrl(t),e.resume(),i.prevUrl&&i.prev()})})}),n.fail(function(){e.resume()}),!0},IASHistoryExtension.prototype.defaults={prev:".prev"};var IASNoneLeftExtension=function(t){return t=jQuery.extend({},this.defaults,t),this.ias=null,this.uid=(new Date).getTime(),this.html=t.html.replace("{text}",t.text),this.showNoneLeft=function(){var t=jQuery(this.html).attr("id","ias_noneleft_"+this.uid);this.ias.getLastItem().after(t),t.fadeIn()},this};IASNoneLeftExtension.prototype.bind=function(t){this.ias=t,t.on("noneLeft",jQuery.proxy(this.showNoneLeft,this))},IASNoneLeftExtension.prototype.unbind=function(t){t.off("noneLeft",this.showNoneLeft)},IASNoneLeftExtension.prototype.defaults={text:"You reached the end.",html:'<div class="ias-noneleft" style="text-align: center;">{text}</div>'};var IASPagingExtension=function(){return this.ias=null,this.pagebreaks=[[0,document.location.toString()]],this.lastPageNum=1,this.enabled=!0,this.listeners={pageChange:new IASCallbacks(jQuery)},this.onScroll=function(t,i){if(this.enabled){var e,n=this.ias,r=this.getCurrentPageNum(t),s=this.getCurrentPagebreak(t);this.lastPageNum!==r&&(e=s[1],n.fire("pageChange",[r,t,e])),this.lastPageNum=r}},this.onNext=function(t){var i=this.ias.getCurrentScrollOffset(this.ias.$scrollContainer);this.pagebreaks.push([i,t]);var e=this.getCurrentPageNum(i)+1;this.ias.fire("pageChange",[e,i,t]),this.lastPageNum=e},this.onPrev=function(t){var i=this,e=i.ias,n=e.getCurrentScrollOffset(e.$scrollContainer)-e.$scrollContainer.height(),r=e.getFirstItem();this.enabled=!1,this.pagebreaks.unshift([0,t]),e.one("rendered",function(){for(var s=1,o=i.pagebreaks.length;o>s;s++)i.pagebreaks[s][0]=i.pagebreaks[s][0]+r.offset().top;var h=i.getCurrentPageNum(n)+1;e.fire("pageChange",[h,n,t]),i.lastPageNum=h,i.enabled=!0})},this};IASPagingExtension.prototype.initialize=function(t){this.ias=t,jQuery.extend(t.listeners,this.listeners)},IASPagingExtension.prototype.bind=function(t){try{t.on("prev",jQuery.proxy(this.onPrev,this),this.priority)}catch(t){}t.on("next",jQuery.proxy(this.onNext,this),this.priority),t.on("scroll",jQuery.proxy(this.onScroll,this),this.priority)},IASPagingExtension.prototype.unbind=function(t){try{t.off("prev",this.onPrev)}catch(t){}t.off("next",this.onNext),t.off("scroll",this.onScroll)},IASPagingExtension.prototype.getCurrentPageNum=function(t){for(var i=this.pagebreaks.length-1;i>0;i--)if(t>this.pagebreaks[i][0])return i+1;return 1},IASPagingExtension.prototype.getCurrentPagebreak=function(t){for(var i=this.pagebreaks.length-1;i>=0;i--)if(t>this.pagebreaks[i][0])return this.pagebreaks[i];return null},IASPagingExtension.prototype.priority=500;var IASSpinnerExtension=function(t){return t=jQuery.extend({},this.defaults,t),this.ias=null,this.uid=(new Date).getTime(),this.src=t.src,this.html=t.html.replace("{src}",this.src),this.showSpinner=function(){var t=this.getSpinner()||this.createSpinner();this.ias.getLastItem().after(t),t.fadeIn()},this.showSpinnerBefore=function(){var t=this.getSpinner()||this.createSpinner();this.ias.getFirstItem().before(t),t.fadeIn()},this.removeSpinner=function(){this.hasSpinner()&&this.getSpinner().remove()},this.getSpinner=function(){var t=jQuery("#ias_spinner_"+this.uid);return t.length>0&&t},this.hasSpinner=function(){return jQuery("#ias_spinner_"+this.uid).length>0},this.createSpinner=function(){var t=jQuery(this.html).attr("id","ias_spinner_"+this.uid);return t.hide(),t},this};IASSpinnerExtension.prototype.bind=function(t){this.ias=t,t.on("next",jQuery.proxy(this.showSpinner,this)),t.on("render",jQuery.proxy(this.removeSpinner,this));try{t.on("prev",jQuery.proxy(this.showSpinnerBefore,this))}catch(t){}},IASSpinnerExtension.prototype.unbind=function(t){t.off("next",this.showSpinner),t.off("render",this.removeSpinner);try{t.off("prev",this.showSpinnerBefore)}catch(t){}},IASSpinnerExtension.prototype.defaults={src:"data:image/gif;base64,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",html:'<div class="ias-spinner" style="text-align: center;"><img src="{src}"/></div>'};var IASTriggerExtension=function(t){return t=jQuery.extend({},this.defaults,t),this.ias=null,this.html=t.html.replace("{text}",t.text),this.htmlPrev=t.htmlPrev.replace("{text}",t.textPrev),this.enabled=!0,this.count=0,this.offset=t.offset,this.$triggerNext=null,this.$triggerPrev=null,this.showTriggerNext=function(){if(!this.enabled)return!0;if(!1===this.offset||++this.count<this.offset)return!0;var t=this.$triggerNext||(this.$triggerNext=this.createTrigger(this.next,this.html));return this.ias.getLastItem().after(t),t.fadeIn(),!1},this.showTriggerPrev=function(){if(!this.enabled)return!0;var t=this.$triggerPrev||(this.$triggerPrev=this.createTrigger(this.prev,this.htmlPrev));return this.ias.getFirstItem().before(t),t.fadeIn(),!1},this.onRendered=function(){this.enabled=!0},this.createTrigger=function(t,i){var e,n=(new Date).getTime();return i=i||this.html,(e=jQuery(i).attr("id","ias_trigger_"+n)).hide(),e.on("click",jQuery.proxy(t,this)),e},this};IASTriggerExtension.prototype.bind=function(t){this.ias=t,t.on("next",jQuery.proxy(this.showTriggerNext,this),this.priority),t.on("rendered",jQuery.proxy(this.onRendered,this),this.priority);try{t.on("prev",jQuery.proxy(this.showTriggerPrev,this),this.priority)}catch(t){}},IASTriggerExtension.prototype.unbind=function(t){this.$triggerNext=null,this.$triggerPrev=null,this.count=0,t.off("next",this.showTriggerNext),t.off("rendered",this.onRendered);try{t.off("prev",this.showTriggerPrev)}catch(t){}},IASTriggerExtension.prototype.next=function(){this.enabled=!1,this.ias.pause(),this.$triggerNext&&(this.$triggerNext.remove(),this.$triggerNext=null),this.ias.next()},IASTriggerExtension.prototype.prev=function(){this.enabled=!1,this.ias.pause(),this.$triggerPrev&&(this.$triggerPrev.remove(),this.$triggerPrev=null),this.ias.prev()},IASTriggerExtension.prototype.defaults={text:"Load more items",html:'<div class="ias-trigger ias-trigger-next" style="text-align: center; cursor: pointer;"><a>{text}</a></div>',textPrev:"Load previous items",htmlPrev:'<div class="ias-trigger ias-trigger-prev" style="text-align: center; cursor: pointer;"><a>{text}</a></div>',offset:0},IASTriggerExtension.prototype.priority=1e3;

/* src: catalog/view/theme/journal3/js/products.js */
(function($){$(document).on('click','.grid-list .view-btn',function(){const $this=$(this);const $products=$('.main-products');const view=$this.data('view');const current=$products.hasClass('product-grid')?'grid':'list';$this.tooltip('hide');if(view!==current){$products.addClass('no-transitions').removeClass('product-'+current).addClass('product-'+view);setTimeout(function(){$products.removeClass('no-transitions');},1);const d=new Date;d.setTime(d.getTime()+24*60*60*1000*365);if(view==='list'){document.cookie='view=list;path=/;expires='+d.toGMTString();}else{document.cookie='view=grid;path=/;expires='+d.toGMTString();}}
$('.grid-list .view-btn').removeClass('active');$this.addClass('active');});$(document).on('change','.main-products-wrapper .select-group select',function(){if(!window['journal_filter']){window.location=$(this).val();}});$(function(){if(Journal['infiniteScrollStatus']&&$('.main-products').length){Journal['infiniteScrollInstance']=$.ias({container:'.main-products',item:'.product-layout',pagination:'.pagination-results',next:'.pagination a.next'});Journal['infiniteScrollInstance'].extension(new IASTriggerExtension({offset:parseInt(Journal['infiniteScrollOffset'],10)||Infinity,text:Journal['infiniteScrollLoadNext'],textPrev:Journal['infiniteScrollLoadPrev'],htmlPrev:'<div class="ias-trigger ias-trigger-prev"><a class="btn">{text}</a></div>',html:'<div class="ias-trigger ias-trigger-next"><a class="btn">{text}</a></div>'}));Journal['infiniteScrollInstance'].extension(new IASSpinnerExtension({html:'<div class="ias-spinner"><em class="fa fa-spinner fa-spin"></em></div>'}));Journal['infiniteScrollInstance'].extension(new IASNoneLeftExtension({text:Journal['infiniteScrollNoneLeft']}));Journal['infiniteScrollInstance'].extension(new IASPagingExtension());Journal['infiniteScrollInstance'].extension(new IASHistoryExtension({prev:'.pagination a.prev'}));Journal['infiniteScrollInstance'].on('load',function(event){try{var u=new URL(event.url);u.host=window.location.host;u.hostname=window.location.hostname;u.protocol=window.location.protocol;event.url=u.toString();}catch(e){}});Journal['infiniteScrollInstance'].on('loaded',function(data){$('.pagination-results').html($(data).find('.pagination-results'));});Journal['infiniteScrollInstance'].on('rendered',function(data){Journal.lazy();});}});})(jQuery);
